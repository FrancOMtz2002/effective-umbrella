<!DOCTYPE html>
<html>
  <head>
    <title>Ver Video 360</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script>
      function getQueryParam(name) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
      }

      window.onload = function() {
        const videoFile = getQueryParam('video');
        if (videoFile) {
          const videoEl = document.querySelector('#vid1');
          videoEl.setAttribute('src', `../assets/videos/${videoFile}`);
          videoEl.play();
        }
      };
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <video id="vid1" autoplay loop="true" crossorigin="anonymous" playsinline webkit-playsinline></video>
      </a-assets>

      <a-videosphere src="#vid1"></a-videosphere>

      <a-box position="0 1 -3" color="#F16767"
             onclick="location.href='../index.html'">
        <a-text value="Regresar" position="0 0.6 0" align="center" color="#FFF"></a-text>
      </a-box>

      <a-entity laser-controls="hand: right"></a-entity>
    </a-scene>
  </body>
</html>
